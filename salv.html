<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta charset="utf-8" />
		<title>Salvattore — A jQuery Masonry alternative with CSS-driven configuration</title>
		<meta name="description" content="A jQuery Masonry alternative with CSS-driven configuration.">
		<meta name="google" value="notranslate">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
		<link rel="stylesheet" href="css/site.css" />

		<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-35016870-2', 'salvattore.com');
			ga('send', 'pageview');
		</script>
</head>
<body>
	<section class="test-grid clear" data-columns>
					<article class="item">
						<h1 class="">1</h1>
						<p>Nel mezzo del cammin di nostra vita mi ritrovai per una selva oscura ché la diritta via era smarrita.</p>
					</article>
					<article class="item">
						<h1 class="">2</h1>
						<p>Ahi quanto a dir qual era è cosa dura esta selva selvaggia e aspra e forte che nel pensier rinova la paura!</p>
					</article>
					<article class="item">
						<h1 class="">3</h1>
						<p>Tant'è amara che poco è più morte; ma per trattar del ben ch'i' vi trovai, dirò de l'altre cose ch'i' v'ho scorte.</p>
					</article>
					<article class="item">
						<h1 class="">4</h1>
						<p>Io non so ben ridir com'i' v'intrai, tant'era pien di sonno a quel punto che la verace via abbandonai.</p>
					</article>
					<article class="item">
						<h1 class="">5</h1>
						<p>Ma poi ch'i' fui al piè d'un colle giunto, là dove terminava quella valle che m'avea di paura il cor compunto, guardai in alto, e vidi le sue spalle vestite già de' raggi del pianeta che mena dritto altrui per ogne calle.</p>
					</article>
					<article class="item">
						<h1 class="">6</h1>
						<p>Allor fu la paura un poco queta che nel lago del cor m'era durata la notte ch'i' passai con tanta pieta.</p>
					</article>
					<article class="item">
						<h1 class="">7</h1>
						<p>E come quei che con lena affannata uscito fuor del pelago a la riva si volge a l'acqua perigliosa e guata, così l'animo mio, ch'ancor fuggiva, si volse a retro a rimirar lo passo che non lasciò già mai persona viva.</p>
					</article>
				</section>
<p id="js-button-block" class="t-center div-lines dark">
					<span><a class="button post-prepend" title="Adds content on the top">Prepend content</a>
						<a class="button post-append" title="Adds content on the bottom">Append content</a></span>
				</p>
<script type="text/javascript">


  var ITEM_TEMPLATE = "<article class='item added'><h1 class='font-gamma'>{{number}}</h1><p>{{content}}</p></article>";

  var paragraph_list = [
    "Poi ch'ei posato un poco il corpo lasso, ripresi via per la piaggia diserta, sì che 'l piè fermo sempre era 'l più basso.",
    "Ed ecco, quasi al cominciar de l'erta, una lonza leggiera e presta molto, che di pel macolato era coverta;",
    "e non mi si partia dinanzi al volto, anzi 'mpediva tanto il mio cammino, ch'i' fui per ritornar più volte vòlto.",
    "Temp'era dal principio del mattino, e 'l sol montava 'n sù con quelle stelle ch'eran con lui quando l'amor divino",
    "mosse di prima quelle cose belle; sì ch'a bene sperar m'era cagione di quella fiera a la gaetta pelle"
  ];

  var itemCount = 7;

  function add_post(mode) {
    var paragraph = paragraph_list.splice(0, 1);
    var content = ITEM_TEMPLATE.replace(/\{\{(\w+)\}\}/g, function (match, g1) {
        switch (g1) {
          case 'number':
            return ++itemCount;
          break;
          case 'content':
            return paragraph;
          break;
        }
    });
    var item = document.createElement('article');

    salvattore[mode+'_elements'](grid, [item]);

    item.outerHTML = content;

    if (!paragraph_list.length) {
      buttonBlock.classList.add('hide');
    }
  }

  function prepend_post (event) {
    add_post('prepend');
  }

  function append_post (event) {
    add_post('append');
  }

  #var salvattore = require('salvattore');

  var grid = document.querySelector('.test-grid-b');
  var prependButton = document.querySelector('.post-prepend');
  var appendButton = document.querySelector('.post-append');
  var buttonBlock = document.querySelector('#js-button-block');

  appendButton.addEventListener('click', append_post);
  prependButton.addEventListener('click', prepend_post);

</script>
</body>
</html>